<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: sysadmin | some guy on the Internet]]></title>
  <link href="http://someguyontheinter.net/blog/categories/sysadmin/atom.xml" rel="self"/>
  <link href="http://someguyontheinter.net/"/>
  <updated>2014-04-30T20:58:23-04:00</updated>
  <id>http://someguyontheinter.net/</id>
  <author>
    <name><![CDATA[Steve Huff]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Legs of Clay]]></title>
    <link href="http://someguyontheinter.net/blog/legs-of-clay/"/>
    <updated>2014-04-21T20:02:43-04:00</updated>
    <id>http://someguyontheinter.net/blog/legs-of-clay</id>
    <content type="html"><![CDATA[<p>I came home a couple of hours ago, returning from a full day: the first two-thirds of my workday involved troubleshooting an application performance issue with my teammates, and the last third involved handing out <a href="https://twitter.com/hakamadare/status/458335460851712000">RunKeeper swag</a> at the Boston Marathon.  I had been thinking I would write something all #BostonStrong-flavored about the experience of seeing all these people come out to spectate in defiance of <a href="https://en.wikipedia.org/wiki/Boston_Marathon_Bombing">last year&rsquo;s madness</a>.</p>

<p>But instead I made myself some dinner, and while I was cooking I read Tom Preston-Werner&rsquo;s <a href="http://tom.preston-werner.com/2014/04/21/farewell-github-hello-immersive-computing.html">blog post about leaving GitHub</a> (for context, a good place to start is <a href="http://techcrunch.com/2014/03/15/julie-ann-horvath-describes-sexism-and-intimidation-behind-her-github-exit/">this TechCrunch story</a> (trigger warning: hostile work environment)).</p>

<!-- more -->


<p>I had already read GitHub&rsquo;s <a href="https://github.com/blog/1823-results-of-the-github-investigation">statement about the investigation</a> while riding home on the train, and seen some criticism of it on Twitter.  I remember my immediate reaction: dismay at the unworldliness of my fellow posters, who didn&rsquo;t seem to realize that of course the company couldn&rsquo;t formally admit to any wrongdoing due to the threat of legal action, and that &ldquo;mistakes and errors of judgment&rdquo; was of course not meant to be some sort of tepid, weaksauce <a href="https://en.wikipedia.org/wiki/Damn_with_faint_praise">praising with faint damns</a>.</p>

<p>And so when reading Tom Preston-Werner&rsquo;s &ldquo;we are prepared to fight any further false claims on this matter to the full extent of the law&rdquo; (talk about a <a href="https://en.wikipedia.org/wiki/Chilling_effect">chilling effect</a>!), I also immediately thought soothing thoughts of &ldquo;of course he has to say that, liability something something something&rdquo;.  And then I stopped and thought again, and realized that <em>this is exactly what an apologist does</em>.  And I do not want to be an apologist, not even for a person, and by proxy a company, for whom I have even now a tremendous amount of admiration and esteem.</p>

<p>I think I understand a bit better the feelings and reactions of some of my opposite numbers in the struggle over diversity and acceptance and treating other people like human beings that has been raging in fandom for some time now (for context, yikes, I don&rsquo;t know what a good point of entry is, maybe read <a href="http://nkjemisin.com/">N K Jemisin</a> or <a href="http://whatever.scalzi.com/">John Scalzi</a> or <a href="http://seanan-mcguire.livejournal.com/">Seanan McGuire</a>?).  The fact is, I would be ok without fandom.  The bulk of my social circle is fannish to some extent, and fandom occupies a huge portion of my family and household&rsquo;s mental and emotional landscape, and fandom is fundamentally entwined with <a href="http://operationhammond.com">my nonprofit</a>, about which I care passionately; it would be traumatic and miserable for me to cut my ties with fandom, and my life would be a poorer and darker and smaller place for it, but it would still be my life, and I would still be me, and I would be ok.</p>

<p>I don&rsquo;t know that I would be ok without the tech world<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>

<p>I don&rsquo;t just mean the commercial aspect of the tech world, the startups and the product launches and the hype and the gadgets (right now there are four computers within an easy arm&rsquo;s reach of me, one of which is almost never out of my vicinity while I&rsquo;m awake, and one of which I <a href="http://www.morpheuz.net/">wear while I sleep</a>); I mean the underlying culture, the <a href="https://en.wikipedia.org/wiki/Hacker_ethic">hacker ethic</a> and the <a href="http://www.catb.org/jargon/">Jargon File</a> and the <a href="https://en.wikipedia.org/wiki/Glider_(Conway%27s_Life">glider</a>) and the <a href="http://www.faqs.org/rfcs/rfc3092.html">metasyntactic variables</a> and the <a href="https://en.wikipedia.org/wiki/Colossal_Cave_Adventure#Maze_of_twisty_little_passages">maze of twisty little passages</a> and the <a href="http://perldoc.perl.org/perlhack.html#WHAT-NEXT%3f">Tolkien quotations in Perl source</a> and the whole raft of other cultural signifiers, the sense I have of belonging to something bigger and more awesome than me, that was here before I was and will be here when I am gone, but neverless is just made up of people, and of which I am a tiny part.</p>

<p>I mean the fundamental assumption that if we don&rsquo;t like the way things are, then we can fix them, and we can fix them together, bit by bit, and other people will help.  <a href="https://duckduckgo.com/?q=%22pull+requests+welcome%22">Pull requests welcome!</a></p>

<p>And yes, I know that there was plenty of collaborative development before there ever was <a href="http://git-scm.com/">git</a> or <a href="https://github.com">GitHub</a>, but my experience has been that GitHub facilitates this kind of creation and problem-solving in a way that other tools and other workflows simply can&rsquo;t match (never mind the fact that GitHub is integral to the way I <a href="http://octopress.org/">write this blog</a> and <a href="https://boxen.github.com/">configure my laptop</a> and work on pretty much all of my projects).  In addition, I realize that I have been lionizing GitHub&rsquo;s corporate culture as well; I&rsquo;ve been boosting <a href="http://tom.preston-werner.com/2010/10/18/optimize-for-happiness.html">optimizing for happiness</a> and <a href="http://zachholman.com/posts/github-speaking-culture/">employees as teachers</a> and <a href="http://tom.preston-werner.com/2011/11/22/open-source-everything.html">open source everything</a> and that sort of thing to anyone who will listen.</p>

<p>So now I am trying to reconcile the two (to my mind very different) narratives being presented about GitHub, and this really hurts.  I guess that in the end, what I am trying to say is that I believe Julie Ann Horvath&rsquo;s story, and I&rsquo;m sad and ashamed that she had the experiences she describes, more so because they happened in a culture with which I identify so strongly.</p>

<p>Let&rsquo;s make things better.</p>

<p>-steve</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>To be clear: I realize that I have the tremendous good fortune not to be in any way afraid that I might be forced out of the tech world by a majority that is on some level hostile to me just for being who I am, and that there are plenty of other people for whom that is not true.  I am, rather, concerned that I may some day come to the conclusion that I can no longer in good conscience remain affiliated with tech culture.  I don&rsquo;t think that&rsquo;s about to happen; however, every time I read or hear about something like the above, a little part of me is afraid that we won&rsquo;t be able to fix things quickly enough.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Real-Life Sysadmin Job Interview Question]]></title>
    <link href="http://someguyontheinter.net/blog/a-real-life-sysadmin-job-interview-question/"/>
    <updated>2014-04-16T07:59:44-04:00</updated>
    <id>http://someguyontheinter.net/blog/a-real-life-sysadmin-job-interview-question</id>
    <content type="html"><![CDATA[<p>Yesterday one of my colleagues flags me down and points to his terminal.  &ldquo;Hang on a second,&rdquo; he says as I walk over, &ldquo;let me become root. <type type type> OK, watch this: see, there&rsquo;s plenty of free space on the root partition&hellip;&rdquo;</p>

<p>At this point my heart leaps up with a sudden, fierce joy.  Could it be?  Really?</p>

<p>&ldquo;But look, when I try to touch a file&hellip;&rdquo;</p>

<p>``` console</p>

<h1>df -h</h1>

<p>Filesystem            Size  Used Avail Use% Mounted on
/dev/xvde             7.9G  5.3G  2.3G  71% /
tmpfs                 828M     0  828M   0% /dev/shm</p>

<h1>cd /</h1>

<h1>touch foo</h1>

<p>touch: cannot touch &lsquo;foo&rsquo;: No space left on device
```</p>

<p>At this point I cannot keep the grin off my face.  &ldquo;Try <code>df -ih</code>&rdquo;, I say.</p>

<p>``` console</p>

<h1>df -ih</h1>

<p>Filesystem           Inodes IUsed IFree IUse% Mounted on
/dev/xvde              512K  512K     0  100% /
tmpfs                  207K     1  207K    1% /dev/shm
```</p>

<p>Dun-dun-DUNNNNNNNNNNNNNN!</p>

<!-- more -->


<p>So, what&rsquo;s all this then?  My colleague had inadvertently presented me with a scenario that I have encountered in job interviews (on both sides of the table) throughout my career; I believe I was asked it when I first interviewed at <a href="https://en.wikipedia.org/wiki/Net_Daemons_Associates">NDA</a>, and I&rsquo;ve been using it as a &ldquo;weeder&rdquo; question for years when screening junior admins.</p>

<p>To elaborate: my colleague was working on a system which appeared to have unused space on the root (&ldquo;/&rdquo;) filesystem.  However, when he tried to create a new file in that filesystem, he received an unexpected and nonsensical error message; how could there be no space left on the device, when a moment ago he had seen that there were 2.3G available?</p>

<p>The answer has to do with <a href="https://en.wikipedia.org/wiki/Inode">inodes</a>.  An inode is, essentially, the address of a file in a Unix filesystem.  When a filesystem is created, a certain amount of space (the bulk of it) is allocated for storage of data, and a smaller amount is allocated for the storage of inodes.  Each file corresponds to one inode, and every file must have an associated inode.  (Yes, this is a <a href="http://www.catb.org/jargon/html/H/handwave.html">hand-wavy</a> explanation; if you want more detail, go read the linked article :) )</p>

<p>The command my colleague initially ran, <code>df -h</code>, reports disk usage across all mounted filesystems (the <code>-h</code> makes the command output convenient, human-readable numbers like &ldquo;5.3G&rdquo; instead of &ldquo;5525556&rdquo;).  However, when I asked him to add the <code>-i</code> argument, I was asking the command to report on inode usage rather than data usage; this quickly revealed that the root filesystem was out of inodes, and that was why my colleague couldn&rsquo;t create a new file.</p>

<p>Further investigation revealed that a misbehaving log aggregation utility was creating hundreds of thousands of files and failing to clean them up; time to go complain to the vendor.</p>

<p>-steve</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[For the Heartbleed Doubters]]></title>
    <link href="http://someguyontheinter.net/blog/for-the-heartbleed-doubters/"/>
    <updated>2014-04-13T11:33:08-04:00</updated>
    <id>http://someguyontheinter.net/blog/for-the-heartbleed-doubters</id>
    <content type="html"><![CDATA[<p>I promise that this is not going to become the All Heartbleed All The Time blog, but in my defence, this is <a href="http://blog.jcuff.net/2011/12/cautionary-tale-about-storage-and.html">kind of a big deal</a>.</p>

<p>A vendor called <a href="https://www.cloudflare.com/overview">CloudFlare</a> decided to perform a practical test of the exploitability of Heartbleed by setting up a vulnerable site and <a href="http://blog.cloudflare.com/answering-the-critical-question-can-you-get-private-ssl-keys-using-heartbleed">challenging people to steal the private key</a>.  I think these two quotes encapsulate the story perfectly:</p>

<p><blockquote><p>Here’s the good <a href="news:">news:</a> after extensive testing on our software stack, we have been unable to successfully use Heartbleed on a vulnerable server to retrieve any private key data.</p></blockquote></p>

<p>followed by:</p>

<p><blockquote><p>It turns out we were wrong. While it takes effort, it is possible to extract private SSL keys. The challenge was solved by Software Engineer Fedor Indutny and Ilkka Mattila at NCSC-FL roughly 9 hours after the challenge was first published.</p></blockquote></p>

<p>Now consider a tool that <a href="http://blog.vpetkov.net/2014/04/11/ridiculously-fast-heartbleed-subnet-scanner-nmap-heartbleed-howto-and-tutorial/">my buddy Ventz put together</a> for bulk scanning of network segments to detect Heartbleed-vulnerable webservers.  There&rsquo;s no reason to believe that he was the first person to think of building something like this.</p>

<p>The two lessons I see here are the following:</p>

<ol>
<li><p>Remember that there&rsquo;s a difference between &ldquo;I can&rsquo;t do it&rdquo; and &ldquo;It&rsquo;s impossible&rdquo; :)  Smart people tend to forget this, to their and others' detriment.</p></li>
<li><p>There is no more <a href="https://en.wikipedia.org/wiki/Security_through_obscurity">security through obscurity</a>.  If your service is accessible from the public Internet, you should assume that you are being scanned on a regular basis.</p></li>
</ol>


<p>-steve</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[More Details About Heartbleed]]></title>
    <link href="http://someguyontheinter.net/blog/more-details-about-heartbleed/"/>
    <updated>2014-04-09T22:39:30-04:00</updated>
    <id>http://someguyontheinter.net/blog/more-details-about-heartbleed</id>
    <content type="html"><![CDATA[<p>If you haven&rsquo;t yet <a href="http://heartbleed.com">patched your OpenSSL and regenerated your certs</a>, stop reading and go fix it; it&rsquo;s OK, I&rsquo;ll still be here when you get back.</p>

<p>All set?  OK.  I found an interesting analysis of the bug over at <a href="http://blog.existentialize.com/diagnosis-of-the-openssl-heartbleed-bug.html">this guy Sean Cassidy&rsquo;s blog</a>.  In brief: I have been happy for many years that other people like to write C, because it means both that I get to benefit from their work (basically my entire livelihood is based on the C ecosystem) and also that I generally don&rsquo;t have to write it myself. :)</p>

<p><img class="center" src="/images/xkcd_1353_heartbleed.png" width="740" height="307" title="&ldquo;XKCD 1353 &ndash; Heartbleed&rdquo;" ></p>

<!-- more -->


<p>In other news, I think I accumulated my first piece of <a href="http://martinfowler.com/bliki/TechnicalDebt.html">technical debt</a> at the new job today.  I spent a while fighting with <a href="http://blog.jonliv.es/2011/04/26/creating-your-own-signed-apt-repository-and-debian-packages/">signed apt packages</a>; by the time I headed home I had managed to unbreak the repository, but I still have one Java package with an invalid signature, so tomorrow I&rsquo;ll go another few rounds.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PSA: Heartbleed OpenSSL Vulnerability]]></title>
    <link href="http://someguyontheinter.net/blog/psa-heartbleed-openssl-vulnerability/"/>
    <updated>2014-04-08T16:36:53-04:00</updated>
    <id>http://someguyontheinter.net/blog/psa-heartbleed-openssl-vulnerability</id>
    <content type="html"><![CDATA[<p>Over dinner last night one of my friends was talking about an OpenSSL vulnerability that had just been disclosed; this morning I took a closer look and decided that I want to boost the signal a bit</p>

<p>The <a href="http://heartbleed.com/">Heartbleed</a> OpenSSL vulnerability affects recent releases of <a href="http://www.openssl.org/">OpenSSL</a>.  Affected systems can be made to reveal secret keys; this is arguably one of the worst ways in which an encryption library can fail, and if you are publishing anything that is secured with SSL (<em>e.g.</em> HTTPS, SMTP/IMAP with TLS, LDAPS, to name a few common uses) and using a vulnerable version, then you should treat your keys as compromised, generate a new private key, and generate new certificates.</p>

<p>If you are not your own sysadmin, then you should find out whether your service providers (including your employer) are reacting appropriately to this issue.  Responsible service providers may proactively publish statements about the issue; if you don&rsquo;t find anything on your provider&rsquo;s website, contact technical support.</p>

<p>More information about this vulnerability can be found by consulting <a href="http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2014-0160">the CERT advisory</a>; there are also some nice StackExchange questions:</p>

<ul>
<li><a href="http://security.stackexchange.com/questions/55076/what-should-a-website-operator-do-about-the-heartbleed-openssl-exploit?">http://security.stackexchange.com/questions/55076/what-should-a-website-operator-do-about-the-heartbleed-openssl-exploit?</a></li>
<li><a href="https://serverfault.com/questions/587329/heartbleed-what-is-it-and-what-are-options-to-mitigate-it">https://serverfault.com/questions/587329/heartbleed-what-is-it-and-what-are-options-to-mitigate-it</a></li>
</ul>


<p>Responding to security vulnerabilities is always a tradeoff between effort and threat, but this one seems worth paying attention to.</p>

<p>-steve</p>
]]></content>
  </entry>
  
</feed>
