<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: work | some guy on the Internet]]></title>
  <link href="http://someguyontheinter.net/blog/categories/work/atom.xml" rel="self"/>
  <link href="http://someguyontheinter.net/"/>
  <updated>2014-06-09T23:35:13-04:00</updated>
  <id>http://someguyontheinter.net/</id>
  <author>
    <name><![CDATA[Steve Huff]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[When Mathematicians Write Perl]]></title>
    <link href="http://someguyontheinter.net/blog/when-mathematicians-write-perl/"/>
    <updated>2014-06-02T20:30:57-04:00</updated>
    <id>http://someguyontheinter.net/blog/when-mathematicians-write-perl</id>
    <content type="html"><![CDATA[<p>As a followup (of sorts) to <a href="http://someguyontheinter.net/blog/an-entirely-needless-obstruction/">my last post</a>, I give you the following:</p>

<p>```perl
sub Derivative1 {</p>

<pre><code>my ($x,$y)=@_;
my @y2;
my $n=$#{$x};
$y2[0]=($y-&gt;[1]-$y-&gt;[0])/($x-&gt;[1]-$x-&gt;[0]);
$y2[$n]=($y-&gt;[$n]-$y-&gt;[$n-1])/($x-&gt;[$n]-$x-&gt;[$n-1]);
my $i;
for($i=1; $i&lt;$n; $i++) {
$y2[$i]=($y-&gt;[$i+1]-$y-&gt;[$i-1])/($x-&gt;[$i+1]-$x-&gt;[$i-1]);
}
return @y2;
</code></pre>

<p>}
```</p>

<p>That code is correct, right?  I sure hope so, because man do I not want to grovel over that and figure out what the hell it is doing.</p>

<p>This glorious manifestation of the human intellect comes from <a href="http://search.cpan.org/dist/Math-Derivative">Math::Derivative</a>, a Perl module which, well, does what it says on the tin: it provides functions that compute first and second derivatives of matrices of points.  The excerpt above is the first derivative function; the second derivative function is just like that, except more so.</p>

<p>To start out I should mention that it consistently provides plausible results (I&rsquo;m using it in code that tries to detect sudden changes in rate of change of numeric metrics over time, <em>i.e.</em> &ldquo;call for help if the database starts bloating up&rdquo;), but the style, oh, where to start?</p>

<ul>
<li>Um, whitespace?  Ever?  Between lines?  Between characters?  It&rsquo;s like reading someone&rsquo;s JavaScript after it&rsquo;s been through <a href="http://www.crockford.com/javascript/jsmin.html">JSMin</a> or some such.  Especially since Perl is tolerant of inserting newlines for clarity, there&rsquo;s no excuse.</li>
<li>The variable names.  Yes, I know, it&rsquo;s basically translating from the formula, but the combination of the one-character names with the one-character (or multi-character) sigils &ndash; seriously, <code>$n=$#{$x}</code>, I never want to see you again &ndash; is a recipe for headache.  Oh, and also you have to play detective to figure out what kind of data each variable represents?  Was it immediately obvious to you that the <code>$x</code> and <code>$y</code> that get passed into the subroutine are references to arrays of scalar values?  Yeah, it&rsquo;s clear in retrospect, but the <a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">principle of least astonishment</a> is not just for user interfaces.</li>
<li>The mishmash of operators.  Considering the previous two points, the similarity between the <code>-</code> operator (in this case numerical subtraction) and the <code>-&gt;</code> operator (dereference) and the <code>&gt;</code> operator (numerical greater-than) makes the code look eerily like a <a href="https://en.wikipedia.org/wiki/Qr_code">QR code</a> or a <a href="https://en.wikipedia.org/wiki/Random-dot_stereogram">random-dot stereogram</a>.</li>
</ul>


<p>And so forth.  There&rsquo;s no good reason why this code has to be so obscure; sure, it&rsquo;s written in an older idiom, but even then it was terrible.  One thing at least the author can be proud of: the version of this module on CPAN is 0.01, written in 1995.</p>

<p>Apparently mathematicians get it right the first time. :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[An Entirely Needless Obstruction]]></title>
    <link href="http://someguyontheinter.net/blog/an-entirely-needless-obstruction/"/>
    <updated>2014-05-20T14:19:41-04:00</updated>
    <id>http://someguyontheinter.net/blog/an-entirely-needless-obstruction</id>
    <content type="html"><![CDATA[<p>OK, see this?  This is why people say uncharitable things about Perl:</p>

<p>```perl
for (@cmd)
{</p>

<pre><code>next unless grep /^\Q$cmd\E$/, split(" ", $_-&gt;[1]);
$cmd_data = $_;
push @{$cmd_data-&gt;[3]}, ["filter", undef, undef, \&amp;parse_filter] if $_-&gt;[1] =~ /\bdescribe/;
for (@{$cmd_data-&gt;[3]})
{
</code></pre>

<p>  for (split(&ldquo; &rdquo;, $_&ndash;>[0]))
  {</p>

<pre><code>  (my $key = $_) =~ s/-/_/g;
  $keyword{$key} = undef;
</code></pre>

<p>  }</p>

<pre><code>}
last;
</code></pre>

<p>}
```</p>

<p>It doesn&rsquo;t matter whose code this is.  Suffice it to say that it</p>

<ul>
<li>is a crucial part of a publically-available, fairly popular program,</li>
<li>was last edited in 2011,</li>
<li>is standing in the way of my getting something accomplished today.</li>
</ul>


<p>Where to even start?  What&rsquo;s with the magical anonymous array-indexed data structures?  The positional parameters (gotta pass those <code>undef</code>s or everything is busted)?  The assignment of named variables to <code>$_</code> (yay!) and then going on to dereference <code>$_</code> instead of the named variables?</p>

<p>I&rsquo;m not sure I&rsquo;m willing to give this a pass as being <a href="http://www.modernperlbooks.com/mt/2009/03/turning-baby-perl-into-grownup-perl.html">baby Perl</a>; this is just a design that has been stretched comically (tragically?) far beyond its original limits.  This makes me cranky and sad.</p>

<p>Time to figure out what the hell is going on here so that I can patch this code.  <a href="http://www.modernperlbooks.com/mt/2011/01/cgi-is-okay-but-bad-code-is-irresponsible.html">Fantastic</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Breeze by Runkeeper]]></title>
    <link href="http://someguyontheinter.net/blog/breeze-by-runkeeper/"/>
    <updated>2014-04-17T11:29:22-04:00</updated>
    <id>http://someguyontheinter.net/blog/breeze-by-runkeeper</id>
    <content type="html"><![CDATA[<p>OH HEY YOU GUYS WE MADE AN APP</p>

<p>RunKeeper just launched <a href="http://breezeapp.com">a new app called Breeze</a>!  It&rsquo;s a daily activity tracker for the iPhone 5S, and I am tremendously excited about it.  If you&rsquo;re at all interested in <a href="https://en.wikipedia.org/wiki/Quantified_Self">Quantified Self</a>-style life tracking, please take a look!</p>

<p><div class="embed-video-container"><iframe src="http://player.vimeo.com/video/91934781 "></iframe></div></p>

<p><a href="http://www.tuaw.com/2014/04/17/breeze-by-runkeeper-steps-up-your-activity-level/">TUAW</a> and <a href="http://techcrunch.com/2014/04/17/watch-out-moves-and-human-now-runkeeper-releases-a-movement-app/">TechCrunch</a> have something to say about this.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[First day at RunKeeper]]></title>
    <link href="http://someguyontheinter.net/blog/first-day-at-runkeeper/"/>
    <updated>2014-04-01T22:57:14-04:00</updated>
    <id>http://someguyontheinter.net/blog/first-day-at-runkeeper</id>
    <content type="html"><![CDATA[<p>I&rsquo;m winding down at the end of my first day at <a href="http://runkeeper.com">RunKeeper</a>, and I&rsquo;m still walking on air :)  Today started with me apparently being a bit jittery while shaving this morning:</p>

<p><img class="center" src="/images/shaving_cuts.jpg" width="240" height="320" title="&ldquo;ouch&rdquo;" ></p>

<p>and ended with me running (while wearing <a href="http://www.amazon.com/Sanita-457806M-20-Professional-Cabrio-Clog/dp/B001CWYZME">clogs</a>, ow) to North Station to catch the commuter rail, and today was STILL awesome.</p>

<p>It&rsquo;s really good to work with my old boss Matt again, and I&rsquo;m really liking the generally happy atmosphere, and the tiny dog wandering around the office, and I&rsquo;ve already come up with some tasks I want to try to get my arms around in the near future.  Plus I didn&rsquo;t break anything on the first day!</p>

<p>I spent a chunk of the past week building my new laptop by means of <a href="https://boxen.github.com">Boxen</a>, and I really like this approach to workstation management.  A lot of the work I&rsquo;ve been doing during the past few years focuses on server and application automation, and as a result my servers tend to be (relatively) neat and well-ordered while my laptop is a wretched hive of scum and villainy; if I recall correctly, the laptop that I handed in last week contained the fifth generation of a lovingly hand-crafted workstation configuration, which started out as a Mac OS X 10.2 installation on a PowerPC Mac laptop and underwent multiple ordeals of Migration Assistant/Carbon Copy Cloner/etc. to attain its final Mac OS X 10.7 on Intel status, accumulating tons of cruft as it went.</p>

<p>So now my workstation config lives in a GitHub repository, and deploying it onto a new machine is remarkably straightforward.  I have about 70% of what I need captured in code; now I just need to be reasonably diligent about keeping up with changes I make post-installation, and next time around I will be much happier.</p>

<p>Current ruling on Boxen:</p>

<p>Pro:</p>

<ul>
<li>configuration captured in code</li>
<li>safe to re-apply config repeatedly</li>
<li>upstream maintainers quite responsive to pull requests</li>
</ul>


<p>Con:</p>

<ul>
<li>no simple way to handle apps that require post-installation configuration (maybe capture <code>.plist</code> files in the repo as templates? yuck)</li>
<li><em>really</em> does not play nicely with multiple local users on the same host (I may have to end up abandoning my habit of maintaining one user account for work and one for personal use, and leveraging <a href="http://www.controlplaneapp.com">ControlPlane</a> to compensate)</li>
</ul>


<p>-steve</p>

<p>P.S. Oh right, I had also stumbled belatedly onto this Garamond silliness via <a href="http://www.thomasphinney.com/2014/03/saving-400m-font/">this excellent refutation</a>.  My only contribution to the debate, such as it is, is to suggest that Garamond is weaksauce and that real toner-savers use <a href="http://ecofont.com/">Ecofont</a>.</p>
]]></content>
  </entry>
  
</feed>
